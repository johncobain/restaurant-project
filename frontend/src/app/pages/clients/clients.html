@if (loading) {
<app-loading
  message="'Carregando dados dos clientes...'"
  [overlay]="true"
></app-loading>
} @else {
<div class="clients-container">
  <div class="clients-summary">
    <h1><mat-icon>people</mat-icon>Clientes</h1>
    <p>Total de Clientes: {{ clients.length }}</p>
    <p>Clientes Ativos: {{ getActiveClients() }}</p>
  </div>

  <div class="clients-actions">
    <div class="data-actions">
      <button mat-stroked-button (click)="loadMostSpent()">
        <mat-icon>attach_money</mat-icon>
        Clientes Que Mais Gastaram
      </button>
      <button mat-stroked-button (click)="loadMostOrders()">
        <mat-icon>star</mat-icon>
        Clientes Que Mais Pediram
      </button>
    </div>
    <div class="data-actions">
      <button mat-raised-button color="primary" routerLink="/clients/new">
        <mat-icon>add</mat-icon>
        Novo Cliente
      </button>
      <button mat-stroked-button (click)="loadClients()">
        <mat-icon>refresh</mat-icon>
        Atualizar Lista
      </button>
    </div>
  </div>

  <app-client-list
    [clients]="clients"
    (clientUpdated)="onClientUpdated($event)"
    (clientDeleted)="onClientDeleted($event)"
  ></app-client-list>
</div>
}
